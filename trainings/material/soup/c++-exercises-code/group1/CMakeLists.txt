SET(GROUPNAME "group1")

ADD_LIBRARY(thing-${GROUPNAME} thing.h thing.cc)
TARGET_INCLUDE_DIRECTORIES(thing-${GROUPNAME} INTERFACE "${CMAKE_CURRENT_SOURCE_DIR}")

ADD_EXECUTABLE(thing-${GROUPNAME}-tests ../test.cc)
TARGET_LINK_LIBRARIES(thing-${GROUPNAME}-tests thing-${GROUPNAME} GTest::Main)
